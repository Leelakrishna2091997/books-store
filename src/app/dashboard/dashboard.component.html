<div class='p-3'>
    <div class='dashboard-header'>
        <div class='w-100'>
            Welcome to Books Palette
        </div>
        <div class='fa fa-sign-out sign-out' (click)='logout()'>
        </div>
    </div>
    <div>
        <mat-tab-group (selectedTabChange)="tabChanged($event)">
            <mat-tab label="Search Book">
                <div>
                    <div class='mt-3 flex-row'>
                        <mat-form-field appearance="fill">
                            <mat-label>Select category</mat-label>
                            <mat-select [(ngModel)]='categorySelect'>
                                <mat-option [value]='eachCategory.id' *ngFor='let eachCategory of categoriesArray'>
                                    {{eachCategory.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div>
                            <button class='ml-3 primary_btn' (click)='searchBook()'>Search</button>
                        </div>
                    </div>
                    <div>
                        <table class='w-100' mat-table [dataSource]="dataSource">
                            <ng-container *ngFor="let col of tableheaders" [matColumnDef]='col'>
                                <th mat-header-cell *matHeaderCellDef style="min-width: fit-content">
                                    <span>
                                        {{col | titlecase}}
                                    </span>
                                </th>
                                <td mat-cell *matCellDef="let element; let $index = index">
                                    <span *ngIf='col != "Action"'>
                                        {{element[col]}}
                                    </span>
                                    <span *ngIf='col == "Action"'>
                                        <span (click)='editBook(element, $index)' class='fa fa-edit pr-3'></span>
                                        <span (click)='deleteBook(element)' class='fa fa-trash'></span>
                                    </span>
                                </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="tableheaders; sticky: true"></tr>
                            <tr mat-row *matRowDef="let row; columns: tableheaders;"></tr>
                        </table>
                        <mat-paginator [hidden]='!tableheaders' [pageSizeOptions]="[5, 10, 20]" (page)='pagechg($event)'
                            showFirstLastButtons>
                        </mat-paginator>
                    </div>
                </div>
            </mat-tab>
            <mat-tab label="Add Book">
                <div>
                    <div class='h-100 books-dialog'>
                        <form [formGroup]="addBookData">
                            <div class='book-block'>
                                <div class='mt-3 books-section'>
                                    <div class='mr-4 w-45'>
                                        <mat-form-field class='w-100' appearance="fill">
                                            <mat-label>Category</mat-label>
                                            <mat-select formControlName='category'>
                                                <mat-option [value]='eachCategory.id'
                                                    *ngFor='let eachCategory of categoriesArray'>
                                                    {{eachCategory.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>

                                    <div class='mr-4 w-45'>
                                        <mat-form-field class='w-100' appearance="fill">
                                            <mat-label>Title</mat-label>
                                            <input formControlName='title' placeholder="Title" matInput required />
                                        </mat-form-field>
                                    </div>
                                    <div class='mr-4 w-45'>
                                        <mat-form-field class='w-100' appearance="fill">
                                            <mat-label>Price</mat-label>
                                            <input formControlName='price' placeholder="Price" matInput required />
                                        </mat-form-field>
                                    </div>
                                    <div class='mr-4 w-45'>
                                        <mat-form-field class='w-100' appearance="fill">
                                            <mat-label>Author</mat-label>
                                            <input formControlName='author' placeholder="Title" matInput required />
                                        </mat-form-field>
                                    </div>
                                    <div class='mr-4 w-45'>
                                        <mat-form-field class='w-100' appearance="fill">
                                            <mat-label>Description</mat-label>
                                            <input formControlName='description' placeholder="Title" matInput
                                                required />
                                        </mat-form-field>
                                    </div>

                                </div>
                            </div>
                        </form>
                        <div class='flex-center'>
                            <div class='w-50'>
                                <div class='buttons-sec'>
                                    <button class='primary_btn' (click)='resetAddBook()'>Reset</button>
                                    <button class='primary_btn' (click)='addBook()'>Add</button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </mat-tab>
        </mat-tab-group>
    </div>
</div>